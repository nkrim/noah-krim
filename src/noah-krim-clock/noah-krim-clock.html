<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="./webgl/clockgl.html">

<dom-module id="noah-krim-clock">
	<template>
		<style>
			:host {
				display: block;
			}

			#canvas:focus {
				/*outline: none;*/
			}
		</style>

		<canvas id="canvas" tabindex="0" height$="[[height]]px" width$="[[width]]px" autofocus$="[[autofocusCanvas]]"></canvas>
		
	</template>
	<script>
		Polymer({
			is: 'noah-krim-clock',

			properties: {
				width: {
					type: Number,
					value: 920,
				},

				height: {
					type: Number,
					value: 640,
				},
			},

			observers: [
				'_observeDimensions(width,height)',
			],

			ready: function() {
				this.isReady = true;
			},

			/** 
				Public functions
			*/
			start: function() {
				clockgl.start(this.$.canvas);
			},

			/**
				Observer functions
			*/
			_observeDimensions: function(width, height) {
				if(!this.isReady)
					return;
				clockgl.resize();
			},
		});
	</script>
</dom-module>